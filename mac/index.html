<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0" />
<title>three.js css3d - MAC</title>
<style>
	html, body {
		height: 100%;
	}
	
	body {
		background-color: #000;
		margin: 0;
		font-family: Helvetica, sans-serif;;
		overflow: hidden;
	}
	
	a {
		color: #ffffff;
	}
	
	#info {
		position: absolute;
		width: 100%;
		color: #ffffff;
		padding: 5px;
		font-family: Monospace;
		font-size: 13px;
		font-weight: bold;
		text-align: center;
		z-index: 1;
	}
	
	#menu {
		position: absolute;
		bottom: 20px;
		width: 100%;
		text-align: center;
	}
	
	.element {
		width: 120px;
		height: 160px;
		box-shadow: 0px 0px 12px rgba(0,255,255,0.5);
		border: 1px solid rgba(127,255,255,0.25);
		text-align: center;
		cursor: default;
	}
	
	.element:hover {
		box-shadow: 0px 0px 12px rgba(0,255,255,0.75);
		border: 1px solid rgba(127,255,255,0.75);
	}
	.element .number {
		position: absolute;
		top: 20px;
		right: 20px;
		font-size: 12px;
		color: rgba(127,255,255,0.75);
	}

	.element .symbol {
		position: absolute;
		top: 40px;
		left: 0px;
		right: 0px;
		font-size: 60px;
		font-weight: bold;
		color: rgba(255,255,255,0.75);
		text-shadow: 0 0 10px rgba(0,255,255,0.95);
	}

	.element .details {
		position: absolute;
		bottom: 15px;
		left: 0px;
		right: 0px;
		font-size: 12px;
		color: rgba(127,255,255,0.75);
	}

	button {
		color: rgba(127,255,255,0.75);
		background: transparent;
		outline: 1px solid rgba(127,255,255,0.75);
		border: 0px;
		padding: 5px 10px;
		cursor: pointer;
	}
	button:hover {
		background-color: rgba(0,255,255,0.5);
	}
	button:active {
		color: #000000;
		background-color: rgba(0,255,255,0.75);
	}
</style>
</head>
<body>
	<script src="https://threejs.org/build/three.min.js"></script>
	<script src="Tween.js"></script>
	<script src="https://threejs.org/examples/js/renderers/CSS3DRenderer.js"></script>	
	<div id="container"></div>
<script>

var table = [
	"esc", "", "", 1, 1,
	"", "F1", "", 2, 1,
	"", "F2", "", 3, 1,
	"", "F3", "", 4, 1,
	"", "F4", "", 5, 1,
	"", "F5", "", 6, 1,
	"", "F6", "", 7, 1,
	"", "F7", "", 8, 1,
	"", "F8", "", 9, 1,
	"", "F9", "", 10, 1,
	"", "F10", "", 11, 1,
	"", "F11", "", 12, 1,
	"", "F12", "", 13, 1,
	"", "", "", 14, 1,
	"1", "!", "ぬ", 1, 2,
	"2", '"', "ふ", 2, 2,
	"3", "#", "あ", 3, 2,
	"4", "$", "う", 4, 2,
	"5", "%", "え", 5, 2,
	"6", "&", "お", 6, 2,
	"7", "'", "や", 7, 2,
	"8", "(", "ゆ", 8, 2,
	"9", ")", "よ", 9, 2,
	"0", "", "わ", 10, 2,
	"-", "=", "ほ", 11, 2,
	"^", "~", "へ", 12, 2,
	"¥", "|", "ー", 13, 2,
	"delete", "", "", 14, 2,
	"Cs", "Caesium", "132.9054", 1, 3,
	"Ba", "Barium", "132.9054", 2, 3,
	"Hf", "Hafnium", "178.49", 4, 3,
	"Ta", "Tantalum", "180.94788", 5, 3,
	"W", "Tungsten", "183.84", 6, 3,
	"Re", "Rhenium", "186.207", 7, 3,
	"Os", "Osmium", "190.23", 8, 3,
	"Ir", "Iridium", "192.217", 9, 3,
	"Pt", "Platinum", "195.084", 10, 3,
	"Au", "Gold", "196.966569", 11, 3,
	"Hg", "Mercury", "200.59", 12, 3,
	"Tl", "Thallium", "204.3833", 13, 3,
	"Pb", "Lead", "207.2", 14, 3,
	"Bi", "Bismuth", "208.9804", 3, 3,
	"Fr", "Francium", "(223)", 1, 4,
	"Ra", "Radium", "(226)", 2, 4,
	"Rf", "Rutherfordium", "(267)", 4, 4,
	"Db", "Dubnium", "(268)", 5, 4,
	"Sg", "Seaborgium", "(271)", 6, 4,
	"Bh", "Bohrium", "(272)", 7, 4,
	"Hs", "Hassium", "(270)", 8, 4,
	"Mt", "Meitnerium", "(276)", 9, 4,
	"Ds", "Darmstadium", "(281)", 10, 4,
	"Rg", "Roentgenium", "(280)", 11, 4,
	"Cn", "Copernicium", "(285)", 12, 4,
	"Uut", "Unutrium", "(284)", 13, 4,
	"Fl", "Flerovium", "(289)", 14, 4,
	"Uup", "Ununpentium", "(288)", 3, 4,
];

var camera, scene, renderer;
var controls;

var objects = [];
var targets = { table: [] };
var targetsdh = { table: [] };
init();
animate();

function init() {

	camera = new THREE.PerspectiveCamera( 40, window.innerWidth / window.innerHeight, 1, 4000 );
	camera.position.z = 3000;

	scene = new THREE.Scene();

	// table
	for ( var i = 0; i < table.length; i += 5 ) {

		var element = document.createElement( 'div' );
		element.className = 'element';
		element.style.backgroundColor = 'rgba(0,127,127,' + ( Math.random() * 0.5 + 0.25 ) + ')';

		var number = document.createElement( 'div' );
		number.className = 'number';
		number.textContent = (i/5) + 1;
		element.appendChild( number );

		var symbol = document.createElement( 'div' );
		symbol.className = 'symbol';
		symbol.textContent = table[ i ];
		element.appendChild( symbol );

		var details = document.createElement( 'div' );
		details.className = 'details';
		details.innerHTML = table[ i + 1 ];
		element.appendChild( details );

		var object = new THREE.CSS3DObject( element );
		object.position.x = Math.random() * 4000 - 2000;
		object.position.y = Math.random() * 4000 - 2000;
		object.position.z = Math.random() * 4000 - 2000;
		scene.add( object );

		objects.push( object );

		//

		var object = new THREE.Object3D();
		object.position.x = ( table[ i + 3 ] * 140 ) - 1330;
		object.position.y = - ( table[ i + 4 ] * 180 ) + 990;

		targets.table.push( object );

	}


	renderer = new THREE.CSS3DRenderer();
	renderer.setSize( window.innerWidth, window.innerHeight );
	renderer.domElement.style.position = 'absolute';
	document.getElementById( 'container' ).appendChild( renderer.domElement );


	transform( targets.table, 2000 );


	window.addEventListener( 'resize', onWindowResize, false );

}

function transform( targets, duration ) {

	TWEEN.removeAll();

	for ( var i = 0; i < objects.length; i ++ ) {

		var object = objects[ i ];
		var target = targets[ i ];

		new TWEEN.Tween( object.position )
			.to( { x: target.position.x, y: target.position.y, z: target.position.z }, Math.random() * duration + duration )
			.start();

		new TWEEN.Tween( object.rotation )
			.to( { x: target.rotation.x, y: target.rotation.y, z: target.rotation.z }, Math.random() * duration + duration )
			.start();

	}
	
	new TWEEN.Tween( this )
		.to( {}, duration * 2 )
		.onUpdate( render )
		.start();

}

function onWindowResize() {
	camera.aspect = window.innerWidth / window.innerHeight;
	camera.updateProjectionMatrix();
	renderer.setSize( window.innerWidth, window.innerHeight );
	render();
}

function animate() {
	requestAnimationFrame( animate );
	TWEEN.update();
}

function render() {
	renderer.render( scene, camera );
}

</script>
</body>
</html>